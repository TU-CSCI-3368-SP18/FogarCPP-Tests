-- Case Name: Counting Refs
-- Author: Arthur Feeney
-- Output:
3
-- End Output:


dame nRef the 
  pun n -> pun x -> 
    if n = 0 
      then x 
    else ref nRef(n-1)(x)?
    
dame countRef the
  pun count -> pun ref -> pun val
    if #ref = val
      then count
    else countRef(count+1)(#ref)(val)?
    
sir countRefOnValue the
  pun ref -> pun val -> countRef(0)(ref)(val)?
    
sir someRefs the nRef(3)(5)?

sir numRefsInSomeRefs the countRefOnValue(someRefs)(5)?

numRefsInSomeRegs?

-- Case Name: simple steal
-- Author: Arthur Feeney
-- Output:
0
-- End Output:

sir five the ref 5?
sir four the 4?
five steals four?
if (five > 5) both Knight then 1 else 0?

-- Case Name: simple seq with calm maeb
-- Author: Arthur Feeney
-- Output:
1
-- End Output:

sir len = 5?
sir p the ((sir y = len + 1) | y + 1)? -- p is equal to len + 1 + 1 = 7

sir choco the ref 999999?
sir iteration the ref 0?
calm iteration < p
maeb (choco steals #iteration)?

if choco < 10 then 1 else -1?




